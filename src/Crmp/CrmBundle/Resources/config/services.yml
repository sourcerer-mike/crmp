services:
  crmp_crm.command.update_docs:
    class: Crmp\CrmBundle\Command\UpdateDocsCommand
    tags:
      - { name: console.command }

  crmp_crm.config:
    class: Crmp\CrmBundle\CoreDomain\Config\ConfigRepository
    arguments: ['@crmp_crm.doctrine.config_repository']

  crmp_crm.doctrine.address_repository:
    class: Doctrine\ORM\EntityRepository
    factory: ['@doctrine.orm.entity_manager', getRepository]
    arguments:
      - Crmp\CrmBundle\Entity\Address

  crmp_crm.doctrine.config_repository:
      class: Doctrine\ORM\EntityRepository
      factory: ['@doctrine.orm.entity_manager', getRepository]
      arguments:
        - Crmp\CrmBundle\Entity\Config

  crmp_crm.doctrine.customer_repository:
      class: Doctrine\ORM\EntityRepository
      factory: ['@doctrine.orm.entity_manager', getRepository]
      arguments:
        - Crmp\CrmBundle\Entity\Customer

  crmp_crm.menu:
    public: false
    class: Crmp\CrmBundle\Menu\MenuDecorator
    decorates: app.menu_builder
    arguments: ["@crmp_crm.menu.inner", "@service_container"]

  crmp_crm.menu.user:
    public: false
    class: Crmp\CrmBundle\Menu\UserMenu
    decorates: app.menu_builder
    arguments: ["@crmp_crm.menu.user.inner", "@service_container"]

  crmp_crm.twig.panels:
    class: Crmp\CrmBundle\Twig\PanelsRenderer
    tags:
      - {name: 'twig.extension' }

  crmp_crm.twig.register_globals:
    class: Crmp\CrmBundle\Twig\RegisterGlobals
    arguments: ['@service_container']
    tags:
      - {name: 'twig.extension' }

